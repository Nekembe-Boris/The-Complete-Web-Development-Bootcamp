<%- include("partials/header.ejs") %>

    <div class="project-div">

      <% for(let i=0; i<proNames.length; i++)  { %>
        <% let proNameLower = proNames[i].toLowerCase() %>
          <div class="project-box" style="height: 400px; width: 500px;" >
            <img src="/images/projects/<%= proType %>/<%= proNames[i] %>/<%= images[i][0] %>" alt="project image" style="width: 100%; height: 100%; border-radius: 5px;">
            
            <a href="#" type="button" data-bs-toggle="modal" data-bs-target="#full-images<%= i %>">
              <div class="hover1">
                <p><%= proNames[i].toUpperCase() %></p>
              </div>
            </a>

            <div class="modal fade" id="full-images<%= i %>" tabindex="-1" aria-labelledby="exampleModalFullscreenLabel" style="display: none;" aria-hidden="true">

              <div class="modal-dialog modal-fullscreen">
                <div class="modal-content">
                  <div class="modal-body">
                    <div  id="carousel<%= proNames[i] %>Autoplaying" class="carousel slide" data-bs-ride="carousel">
                      <div class="carousel-inner">
                        <% var classD = ""; %>

                        <% for(let pic=0; pic<images[i].length; pic++) { %>
                          <% if (pic == 0) { %>
                              <% classD = "carousel-item active"; %>
                          <% } else { %>
                            <% classD = "carousel-item"; %>
                          <% } %>
                          <div class="<%= classD %>">
                            <img src="/images/projects/<%= proType %>/<%= proNames[i] %>/<%= images[i][pic] %>"  alt="project image" style="width: 100%; height: 100%;">
                          </div>
                        <% } %>
                      </div>

                      <button class="carousel-control-prev" type="button" data-bs-target="#carousel<%= proNames[i] %>Autoplaying" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                      </button>

                      <button class="carousel-control-next" type="button" data-bs-target="#carousel<%= proNames[i] %>Autoplaying" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                      </button>

                      <div class="close-btn">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">X</button>
                      </div>
                      <div id="descrip">
                        <p> <img src="/images/pin_white.svg" alt="pin icon"><%= proDetails[proNameLower]["lieu"] %> </p>
                        <p> <%= proDetails[proNameLower]["description"] %> </p>
                      </div>
                    </div>

                  </div>
                  
                </div>

              </div>

            </div>
  
          </div>
      <% } %>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

  </body>
      
</html>